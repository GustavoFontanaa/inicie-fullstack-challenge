<div class="max-w-xl mx-auto mt-10 bg-white shadow-xl rounded-xl p-6 space-y-6">

  <div class="flex items-center justify-between">
    <button routerLink="/students"
      class="inline-flex items-center bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium px-3 py-1.5 rounded-sm cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"
        stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
      Voltar
    </button>

    <h2 class="text-xl font-bold text-gray-800">
      Chat - {{ username }}
    </h2>
  </div>

  <div id="chat-container" class="h-64 overflow-y-auto border rounded-sm p-4 bg-gray-50 space-y-2">
    <div *ngFor="let msg of messages" class="flex"
      [ngClass]="{ 'justify-end': msg.user === username, 'justify-start': msg.user !== username }">
      <div class="max-w-[80%] px-3 py-2 rounded-lg" [ngClass]="{
             'bg-blue-500 text-white': msg.user === username,
             'bg-gray-200 text-gray-800': msg.user !== username
           }">
        <span class="block text-xs font-semibold mb-1">{{ msg.user }}</span>
        <span class="text-sm">{{ msg.text }}</span>
      </div>
    </div>
  </div>

  <app-screen-share></app-screen-share>

  <div class="flex gap-2">
    <input [(ngModel)]="message" (keyup.enter)="sendMessage()" placeholder="Digite sua mensagem..."
      class="flex-1 px-4 py-2 border border-gray-300 rounded-lg shadow-xs focus:outline-hidden focus:ring-2 focus:ring-blue-400" />

    <button (click)="sendMessage()"
      class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-sm cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"
        stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
      </svg>
      Enviar
    </button>
  </div>
</div>
